import base64
exec(base64.b64decode(b'aW1wb3J0IHJlcXVlc3RzCmltcG9ydCB0aW1lCmltcG9ydCBvcwpmcm9tIGNvbG9yYW1hIGltcG9ydCBpbml0LCBGb3JlLCBTdHlsZQoKaW5pdChhdXRvcmVzZXQ9VHJ1ZSkKCmRlZiBhcHByb3ZhbCgpOgogICAgIiIiQ2xlYXIgdGhlIHRlcm1pbmFsIHNjcmVlbi4iIiIKICAgIGlmIG9zLm5hbWUgPT0gJ250JzogICMgRm9yIFdpbmRvd3MKICAgICAgICBvcy5zeXN0ZW0oJ2NscycpCiAgICBlbHNlOiAgIyBGb3IgTGludXgvbWFjT1MKICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKCmRlZiByYWpfbG9nbygpOgogICAgIiIiRGlzcGxheSB0aGUgbG9nbyBhbmQgY2xlYXIgdGhlIHNjcmVlbiBhZnRlciBkaXNwbGF5aW5nIGl0LiIiIgogICAgbG9nbyA9IHIiIiIKGhoaGhoaGiAaGhoaGhoaIBoaGhoaGhogICAaGhoaGhoaGhoaICAaGhoaGhogGhoaICAgIBoaGgoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhogIBoaGhoaGhoaGhoaGhoaGhoaGhoaGhogICAgGhoaChoaGiAgGhoaGhoaGhoaGhoaGhoaGhoaGhogGhoaGhoaICAaGhoaGhoaGhoaGhoaGiAaGiAaGhoKGhoaICAaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhogIBoaGhoaGhoaGhoaGhoaGhoaGhoaGgoaGhoaGhoaGhoaGiAgGhoaGhoaGhoaIBoaGhoaGhoaGhoaGhoaGhoaICAaGhoaGhoaGhoaGhoaChoaGhoaGhogGhoaICAaGhoaGhoaGhogIBoaGhoaGhoaGhoaGiAaGhogIBoaGiAaGhoaGhoaGiAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICIiIi5mb3JtYXQoRm9yZS5ZRUxMT1csIEZvcmUuR1JFRU4sIEZvcmUuQ1lBTiwgRm9yZS5NQUdFTlRBLCBGb3JlLkJMVUUsIEZvcmUuV0hJVEUpCgogICAgcHJpbnQoRm9yZS5NQUdFTlRBICsgU3R5bGUuQlJJR0hUICsgbG9nbykKCmRlZiBzaG93X3Rlcm11eF9tZXNzYWdlKCk6CiAgICAiIiJEaXNwbGF5IHRoZSBjdXN0b20gbWVzc2FnZSBhZnRlciB0aGUgbG9nby4iIiIKICAgIHRlcm11eF9tZXNzYWdlID0gciIiIgrilZTilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZcK4pWRICB7MH1XT05FUiAgICAgIDogV0FMRUVEICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pWRCuKVkSAgezF9UlVMTDNYICAgICA6IFRIRSBCUjNORCBXQUxFRUQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilZEK4pWRICB7MX1GQUNFQk9LICAgIDog4p2u4p2uICDwk4apRFJJTkRBV/CThqogIOKdr+KdryAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pWRCuKVkSAgezJ9UlVMUyAgICAgICA6IE1VTFRJIFRPS0VOIENPTlZPICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKVkQrilZEgIHszfUdJVEhVQiAgICAgOiBMM0czTkQgWEQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilZEgCuKVkSAgezF9V0g5VFM5UCAgICA6IDAwMDAwMDAwMDAwMDAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pWRCuKVmuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVnQoiIiIuZm9ybWF0KEZvcmUuUkVELCBGb3JlLkdSRUVOLCBGb3JlLkJMVUUsIEZvcmUuV0hJVEUpCiAgICBwcmludChGb3JlLkdSRUVOICsgU3R5bGUuQlJJR0hUICsgdGVybXV4X21lc3NhZ2UpCgpkZWYgZmV0Y2hfcHJvZmlsZV9uYW1lKGFjY2Vzc190b2tlbik6CiAgICAiIiJGZXRjaCB0aGUgcHJvZmlsZSBuYW1lIHVzaW5nIHRoZSB0b2tlbi4iIiIKICAgIHRyeToKICAgICAgICByZXNwb25zZSA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUiLCBwYXJhbXM9eyJhY2Nlc3NfdG9rZW4iOiBhY2Nlc3NfdG9rZW59KQogICAgICAgIHJlc3BvbnNlLnJhaXNlX2Zvcl9zdGF0dXMoKQogICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkuZ2V0KCJuYW1lIiwgIlVua25vd24iKQogICAgZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuUmVxdWVzdEV4Y2VwdGlvbjoKICAgICAgICByZXR1cm4gIlVua25vd24iCgpkZWYgZmV0Y2hfdGFyZ2V0X25hbWUodGFyZ2V0X2lkLCBhY2Nlc3NfdG9rZW4pOgogICAgIiIiRmV0Y2ggdGhlIHRhcmdldCBwcm9maWxlIG5hbWUgdXNpbmcgdGhlIHRhcmdldCBJRCBhbmQgdG9rZW4uIiIiCiAgICB0cnk6CiAgICAgICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5nZXQoZiJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS97dGFyZ2V0X2lkfSIsIHBhcmFtcz17ImFjY2Vzc190b2tlbiI6IGFjY2Vzc190b2tlbn0pCiAgICAgICAgcmVzcG9uc2UucmFpc2VfZm9yX3N0YXR1cygpCiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKS5nZXQoIm5hbWUiLCAiVW5rbm93biBUYXJnZXQiKQogICAgZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuUmVxdWVzdEV4Y2VwdGlvbjoKICAgICAgICByZXR1cm4gIlVua25vd24gVGFyZ2V0IgoKZGVmIHNlbmRfbWVzc2FnZXModG9rZW5zX2ZpbGUsIHRhcmdldF9pZCwgbWVzc2FnZXNfZmlsZSwgaGF0ZXJzX25hbWUsIHNwZWVkKToKICAgICIiIlNlbmQgbWVzc2FnZXMgdG8gdGhlIHRhcmdldCBwcm9maWxlLiIiIgogICAgd2l0aCBvcGVuKG1lc3NhZ2VzX2ZpbGUsICJyIikgYXMgZmlsZToKICAgICAgICBtZXNzYWdlcyA9IGZpbGUucmVhZGxpbmVzKCkKICAgIHdpdGggb3Blbih0b2tlbnNfZmlsZSwgInIiKSBhcyBmaWxlOgogICAgICAgIHRva2VucyA9IFt0b2tlbi5zdHJpcCgpIGZvciB0b2tlbiBpbiBmaWxlLnJlYWRsaW5lcygpXQoKICAgICMgRmV0Y2ggdGhlIHByb2ZpbGUgbmFtZSBmb3IgZWFjaCB0b2tlbgogICAgdG9rZW5fcHJvZmlsZXMgPSB7dG9rZW46IGZldGNoX3Byb2ZpbGVfbmFtZSh0b2tlbikgZm9yIHRva2VuIGluIHRva2Vuc30KCiAgICAjIEZldGNoIHRoZSB0YXJnZXQgcHJvZmlsZSBuYW1lCiAgICB0YXJnZXRfcHJvZmlsZV9uYW1lID0gZmV0Y2hfdGFyZ2V0X25hbWUodGFyZ2V0X2lkLCB0b2tlbnNbMF0pICAjIFVzaW5nIHRoZSBmaXJzdCB0b2tlbiBmb3IgdGhlIHRhcmdldCBmZXRjaAoKICAgIGhlYWRlcnMgPSB7CiAgICAgICAgIlVzZXItQWdlbnQiOiAiTW96aWxsYS81LjAiLAogICAgfQoKICAgIHdoaWxlIFRydWU6CiAgICAgICAgZm9yIG1lc3NhZ2VfaW5kZXgsIG1lc3NhZ2UgaW4gZW51bWVyYXRlKG1lc3NhZ2VzKToKICAgICAgICAgICAgdG9rZW5faW5kZXggPSBtZXNzYWdlX2luZGV4ICUgbGVuKHRva2VucykKICAgICAgICAgICAgYWNjZXNzX3Rva2VuID0gdG9rZW5zW3Rva2VuX2luZGV4XQogICAgICAgICAgICBzZW5kZXJfbmFtZSA9IHRva2VuX3Byb2ZpbGVzLmdldChhY2Nlc3NfdG9rZW4sICJVbmtub3duIFNlbmRlciIpCiAgICAgICAgICAgIGZ1bGxfbWVzc2FnZSA9IGYie2hhdGVyc19uYW1lfSB7bWVzc2FnZS5zdHJpcCgpfSIKCiAgICAgICAgICAgIHVybCA9IGYiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vdjE3LjAvdF97dGFyZ2V0X2lkfSIKICAgICAgICAgICAgcGFyYW1ldGVycyA9IHsiYWNjZXNzX3Rva2VuIjogYWNjZXNzX3Rva2VuLCAibWVzc2FnZSI6IGZ1bGxfbWVzc2FnZX0KICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5wb3N0KHVybCwganNvbj1wYXJhbWV0ZXJzLCBoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgICAgICAgICByZXNwb25zZS5yYWlzZV9mb3Jfc3RhdHVzKCkKICAgICAgICAgICAgICAgIGN1cnJlbnRfdGltZSA9IHRpbWUuc3RyZnRpbWUoIiVZLSVtLSVkICVJOiVNOiVTICVwIikKICAgICAgICAgICAgICAgIHByaW50KEZvcmUuR1JFRU4gKyBmIlxu4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQIikKICAgICAgICAgICAgICAgIHByaW50KEZvcmUuQ1lBTiArIGYiW+KclF0ge0ZvcmUuWUVMTE9XfU1lc3NhZ2Uge21lc3NhZ2VfaW5kZXggKyAxfSBTdWNjZXNzZnVsbHkgU2VudCEiKQogICAgICAgICAgICAgICAgcHJpbnQoRm9yZS5DWUFOICsgZiJb8J+RpF0gU2VuZGVyOiB7Rm9yZS5NQUdFTlRBfXtzZW5kZXJfbmFtZX0iKQogICAgICAgICAgICAgICAgcHJpbnQoRm9yZS5DWUFOICsgZiJb8J+TqV0gVGFyZ2V0OiB7Rm9yZS5NQUdFTlRBfXt0YXJnZXRfcHJvZmlsZV9uYW1lfSAoe3RhcmdldF9pZH0pIikKICAgICAgICAgICAgICAgIHByaW50KEZvcmUuQ1lBTiArIGYiW/Cfk6hdIE1lc3NhZ2U6IHtGb3JlLkxJR0hUR1JFRU5fRVh9e2Z1bGxfbWVzc2FnZX0iKQogICAgICAgICAgICAgICAgcHJpbnQoRm9yZS5DWUFOICsgZiJb4o+wXSBUaW1lOiB7Rm9yZS5MSUdIVEJMVUVfRVh9e2N1cnJlbnRfdGltZX0iKQogICAgICAgICAgICAgICAgcHJpbnQoRm9yZS5HUkVFTiArIGYi4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYXG4iKQogICAgICAgICAgICAgICAgcHJpbnQoRm9yZS5ZRUxMT1cgKyAiXDAzM1sxOzM3bTw8PT09PT09PT0gTUFERSBCWSBUSEUgQlIzTkQgV0FMRUVE8J+YiPCfqbcgPT09PT09Pj4iKQogICAgICAgICAgICAgICAgcHJpbnQoIlxuIiArICgi4pSAIiAqIDgwKSArICJcbiIpCiAgICAgICAgICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLlJlcXVlc3RFeGNlcHRpb246CiAgICAgICAgICAgICAgICBjb250aW51ZSAgIyBJZ25vcmUgZXJyb3IgYW5kIGNvbnRpbnVlIHNlbmRpbmcgbmV4dCBtZXNzYWdlCiAgICAgICAgICAgIHRpbWUuc2xlZXAoc3BlZWQpCiAgICAgICAgcHJpbnQoRm9yZS5DWUFOICsgIlxuWytdIEFsbCBtZXNzYWdlcyBzZW50LiBSZXN0YXJ0aW5nIHRoZSBwcm9jZXNzLi4uXG4iKQoKZGVmIG1haW4oKToKICAgIGFwcHJvdmFsKCkgICMgQ2xlYXIgc2NyZWVuIGJlZm9yZSBkaXNwbGF5aW5nIHRoZSBsb2dvCiAgICByYWpfbG9nbygpICAjIERpc3BsYXkgbG9nbwogICAgc2hvd190ZXJtdXhfbWVzc2FnZSgpICAjIFNob3cgdGhlIGN1c3RvbSBtZXNzYWdlCgogICAgYXBwcm92YWwoKSAgIyBDbGVhciBzY3JlZW4gYmVmb3JlIHN0YXJ0aW5nIGlucHV0cwogICAgdG9rZW5zX2ZpbGUgPSBpbnB1dChGb3JlLkdSRUVOICsgIlsrXSBFTlRFUi1USEUtVE9LRU5TLUZJTEU9Pj4gIikuc3RyaXAoKQoKICAgIGFwcHJvdmFsKCkgICMgQ2xlYXIgc2NyZWVuIGJlZm9yZSBmdXJ0aGVyIGlucHV0cwogICAgdGFyZ2V0X2lkID0gaW5wdXQoRm9yZS5ZRUxMT1cgKyAiWytdIEVOVEVSLVRIRS1UQVJHRVQtSUQ9Pj4gIikuc3RyaXAoKQogICAgCiAgICBhcHByb3ZhbCgpICAjIENsZWFyIHNjcmVlbiBiZWZvcmUgZnVydGhlciBpbnB1dHMKICAgIG1lc3NhZ2VzX2ZpbGUgPSBpbnB1dChGb3JlLllFTExPVyArICJbK10gRU5URVItLS0tLUdBTEktRklMRT0+PiAiKS5zdHJpcCgpCgogICAgYXBwcm92YWwoKSAgIyBDbGVhciBzY3JlZW4gYmVmb3JlIGZ1cnRoZXIgaW5wdXRzCiAgICBoYXRlcnNfbmFtZSA9IGlucHV0KEZvcmUuWUVMTE9XICsgIlsrXSBFTlRFUi1IQVRFUi1OQU1FPT4+ICIpLnN0cmlwKCkKICAgIAogICAgYXBwcm92YWwoKSAgIyBDbGVhciBzY3JlZW4gYmVmb3JlIGFza2luZyBmb3Igc3BlZWQKICAgIHNwZWVkID0gZmxvYXQoaW5wdXQoRm9yZS5HUkVFTiArICJbK10gRU5URVIgVEhFIFNQRUVEIChJTiBTRUNPTkRTKSBCRVRXRUVOIE1FU1NBR0VTPT4+ICIpLnN0cmlwKCkpCgogICAgc2VuZF9tZXNzYWdlcyh0b2tlbnNfZmlsZSwgdGFyZ2V0X2lkLCBtZXNzYWdlc19maWxlLCBoYXRlcnNfbmFtZSwgc3BlZWQpCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgbWFpbigp'))
